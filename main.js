!function(){"use strict";const e=document.querySelector(".profile"),t=document.querySelector("#card-add"),r=document.querySelector("#image-modal"),s={profile:e,profileEditButton:e.querySelector(".profile__edit-button"),profileAvatar:e.querySelector("#profile-avatar"),profileAvatarButton:e.querySelector("#profile__image-button"),profileTitle:e.querySelector(".profile__title"),updateAvatarForm:document.forms["update-avatar-form"],profileDescription:e.querySelector(".profile__description"),cardListEl:document.querySelector(".cards__list"),cardTemplate:document.querySelector("#card-template"),cardAddButton:e.querySelector("#card-add-button"),profileEdit:document.querySelector("#profile-edit"),profileEditForm:document.forms["profile-edit-form"],profileTitleInput:document.querySelector("#profile-edit-title-input"),profileDescriptionInput:document.querySelector("#profile-edit-description-input"),cardAdd:t,cardAddForm:document.forms["card-add-form"],cardTitleInput:t.querySelector("#card-add-title-input"),cardImageInput:t.querySelector("#card-add-link-input"),imageModal:r,imageModalImage:r.querySelector("#image-modal-image"),imageModalSubText:r.querySelector("#image-modal-sub-text")};class i{constructor(e,t,r,s,i){let{name:o,link:n,_id:a,isLiked:l}=e;this._name=o,this._link=n,this._id=a,this.isLiked=l,this._cardSelector=t,this._handleImageClick=r,this._handleDeleteCardClick=s,this._handleLikeClick=i}getId(){return this._id}_setEventListeners(){this._likeBtnEl.addEventListener("click",(()=>{this._handleLikeClick()})),this._trashBtnEl.addEventListener("click",(()=>{this._handleDeleteCardClick(this)})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}setIsLiked(e){this.isLiked=e,this._likeBtnEl.classList.toggle("card__button-like_active",e)}handleDeleteCard(){this._cardElement.remove(),this._cardElement=null}getView(){return this._cardElement=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),this._cardImageEl=this._cardElement.querySelector(".card__image"),this._cardTitleEl=this._cardElement.querySelector(".card__title"),this._trashBtnEl=this._cardElement.querySelector(".card__button-trash"),this._likeBtnEl=this._cardElement.querySelector(".card__button-like"),this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._cardTitleEl.textContent=this._name,this._setEventListeners(),this._cardElement}}class o{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent=""}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}disableSubmitButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_enableSubmitButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_hasInvalidInput(){return!this._inputEls.every((e=>e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableSubmitButton():this._enableSubmitButton()}_setEventListeners(){this._inputEls=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState(this._inputEls)}))}))}resetValidation(){this._inputEls.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class n{constructor(e,t){let{items:r,renderer:s}=e;this._items=r,this._renderer=s,this._containerElement=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._containerElement.prepend(e)}}class a{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._popupElement.addEventListener("click",(e=>{(e.target===e.currentTarget||e.target.classList.contains("modal__close-button"))&&this.close()}))}}class l extends a{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this.submitButton=this._popupForm.querySelector("[type=submit]"),this._handleFormSubmit=t,this._inputs=this._popupForm.querySelectorAll("input")}_getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}setInputValues(e){this._inputs.forEach((t=>{t.value=e[t.name]}))}}const d=new l("#card-add",(e=>{const t={name:e.title,link:e.description};p.addCard(t).then((e=>{k(e),d.close()})).catch((e=>{console.error(e),alert(`${e}, Could not add new card`)})),s.cardAddForm.reset(),v.disableSubmitButton()}));d.setEventListeners();const c=new l("#profile-edit",(e=>{c.submitButton.textContent="Saving...",p.updateProfileInfo(e.title,e.description).then((e=>{c.submitButton.textContent="Submit",s.profileTitle.textContent=e.name,s.profileDescription.textContent=e.about,c.close()}))}));c.setEventListeners();const u=new l("#update-avatar",(e=>{u.submitButton.textContent="Saving...",p.updateProfilePhoto(e.description).then((e=>{u.submitButton.textContent="Submit",s.profileAvatar.src=e.avatar,u.close()}))}));u.setEventListeners();const h=new class extends a{constructor(e){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this.submitButton=this._popupForm.querySelector("[type=submit]")}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}setSubmitAction(e){this._handleFormSubmit=e}}("#card-delete-conformation");h.setEventListeners();const m=new class extends a{constructor(e){super({popupSelector:e}),this._image=this._popupElement.querySelector("#image-modal-image"),this._text=this._popupElement.querySelector("#image-modal-sub-text")}open(e){this._image.src=e.link,this._text.textContent=e.name,this._image.alt=`Photo of ${e.name}`,super.open()}}("#image-modal");m.setEventListeners();const _=new class{constructor(e){let{nameSelector:t,jobSelector:r,avatarSelector:s}=e;this._name=document.querySelector(t),this._job=document.querySelector(r),this._avatar=document.querySelector(s)}getUserInfo(){return{title:this._name.textContent,description:this._job.textContent}}setUserInfo(e){let{name:t,job:r}=e;this._name.textContent=t,this._job.textContent=r}setUserAvatar(e){let{avatar:t}=e;this._avatar.src=t}}({nameSelector:".profile__title",jobSelector:".profile__description",avatarSelector:"#profile-avatar"}),p=new class{constructor(e){let{baseUrl:t,authToken:r}=e;this._baseUrl=t,this._authToken=r,this._headers={authorization:this._authToken,"Content-Type":"application/json"}}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}updateProfileInfo(e,t){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}updateProfilePhoto(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}addCard(e){let{name:t,link:r}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:r})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}removeCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}addLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}removeLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",authToken:"e254619e-7195-4851-a257-08f38c23767e"});let E;p.getInitialCards().then((e=>{E=new n({items:e,renderer:k},".cards__list"),E.renderItems()})).catch((e=>{console.error(e),alert(`${e}, Could not load cards`)})),p.getUserInfo().then((e=>{_.setUserInfo({name:e.name,job:e.about}),_.setUserAvatar({avatar:e.avatar})})).catch((e=>{console.error(e),alert(`${e}, Could not load user info`)}));const b={inputSelector:".js-modal-input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button_disabled",inputErrorClass:"modal-input-error",errorClass:"modal-error-visible"},f=new o(b,s.profileEditForm);f.enableValidation();const v=new o(b,s.cardAddForm);function S(e){h.open(),h.setSubmitAction((()=>{h.submitButton.textContent="Saving...",p.removeCard(e.getId()).then((()=>{h.submitButton.textContent="Yes",e.handleDeleteCard(),h.close()})).catch((e=>{console.error(e),alert(`${e}, Could not delete card`)}))}))}function k(e){const t=new i(e,".card-template",C,S,(()=>{t.isLiked?p.removeLike(t._id).then((e=>{t.setIsLiked(e.isLiked)})):p.addLike(t._id).then((e=>{t.setIsLiked(e.isLiked)}))}));E.addItem(t.getView())}function C(e){m.open(e)}v.enableValidation(),new o(b,s.updateAvatarForm).enableValidation(),s.profileEditButton.addEventListener("click",(function(){f.resetValidation(),c.setInputValues(_.getUserInfo()),c.open()})),s.cardAddButton.addEventListener("click",(()=>d.open())),s.profileAvatarButton.addEventListener("click",(()=>{u.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDMUJpRCxFQUFLNUosV0FBVzJHLEVBQUl6SCxRQUFRLEdBTWhDLElBR0pxSyxFQUFZekYsUUFBUThGLEVBQUtySixVQUMzQixDQVlBLFNBQVMzQixFQUFpQmlMLEdBQ3hCM0MsRUFBVzVDLEtBQUt1RixFQUNsQixDQS9EQXJELEVBQWlCckQsbUJBRVcsSUFBSXJDLEVBQzlCNEksRUFDQXRNLEVBQVVLLGtCQUVRMEYsbUJBK0RwQi9GLEVBQVVDLGtCQUFrQndDLGlCQUFpQixTQWQ3QyxXQUNFOEosRUFBa0IxRyxrQkFDbEJ3RCxFQUErQmpCLGVBQWU2QixFQUFTTSxlQUN2RGxCLEVBQStCbkMsTUFDakMsSUFXQWxILEVBQVVVLGNBQWMrQixpQkFBaUIsU0FBUyxJQUNoRDRGLEVBQXFCbkIsU0FFdkJsSCxFQUFVRyxvQkFBb0JzQyxpQkFBaUIsU0FBUyxLQUN0RGdILEVBQWlDdkMsTUFBTSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWlsZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vICEgfHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXx8XHJcbi8vICEgfHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgR2xvYmFsIHZhcmlhYmxlcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8XHJcbi8vICEgfHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXx8XHJcblxyXG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzID0ge1xyXG4gIGNhcmRTZWN0aW9uOiBcIi5jYXJkc19fbGlzdFwiLFxyXG4gIGNhcmRUZW1wbGF0ZTogXCIuY2FyZC10ZW1wbGF0ZVwiLFxyXG59O1xyXG5cclxuY29uc3QgcHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZVwiKTtcclxuY29uc3QgY2FyZEFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1hZGRcIik7XHJcbmNvbnN0IGltYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLW1vZGFsXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbnN0YW50cyA9IHtcclxuICBwcm9maWxlOiBwcm9maWxlLFxyXG4gIHByb2ZpbGVFZGl0QnV0dG9uOiBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIiksXHJcbiAgcHJvZmlsZUF2YXRhcjogcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtYXZhdGFyXCIpLFxyXG4gIHByb2ZpbGVBdmF0YXJCdXR0b246IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlX19pbWFnZS1idXR0b25cIiksXHJcbiAgcHJvZmlsZVRpdGxlOiBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIiksXHJcbiAgdXBkYXRlQXZhdGFyRm9ybTogZG9jdW1lbnQuZm9ybXNbXCJ1cGRhdGUtYXZhdGFyLWZvcm1cIl0sXHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uOiBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIiksXHJcbiAgY2FyZExpc3RFbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKSxcclxuICBjYXJkVGVtcGxhdGU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKSxcclxuICBjYXJkQWRkQnV0dG9uOiBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1hZGQtYnV0dG9uXCIpLFxyXG4gIHByb2ZpbGVFZGl0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdFwiKSxcclxuICBwcm9maWxlRWRpdEZvcm06IGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZS1lZGl0LWZvcm1cIl0sXHJcbiAgcHJvZmlsZVRpdGxlSW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LXRpdGxlLWlucHV0XCIpLFxyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjcHJvZmlsZS1lZGl0LWRlc2NyaXB0aW9uLWlucHV0XCJcclxuICApLFxyXG4gIGNhcmRBZGQ6IGNhcmRBZGQsXHJcbiAgY2FyZEFkZEZvcm06IGRvY3VtZW50LmZvcm1zW1wiY2FyZC1hZGQtZm9ybVwiXSxcclxuICBjYXJkVGl0bGVJbnB1dDogY2FyZEFkZC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtYWRkLXRpdGxlLWlucHV0XCIpLFxyXG4gIGNhcmRJbWFnZUlucHV0OiBjYXJkQWRkLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1hZGQtbGluay1pbnB1dFwiKSxcclxuICBpbWFnZU1vZGFsOiBpbWFnZU1vZGFsLFxyXG4gIGltYWdlTW9kYWxJbWFnZTogaW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLW1vZGFsLWltYWdlXCIpLFxyXG4gIGltYWdlTW9kYWxTdWJUZXh0OiBpbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtbW9kYWwtc3ViLXRleHRcIiksXHJcbn07XHJcblxyXG4vLyAhIHx8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18fFxyXG4vLyAhIHx8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FyZCBEYXRhIEFycmF5ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fFxyXG4vLyAhIHx8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18fFxyXG4vLyBleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4vLyAgIHtcclxuLy8gICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXHJcbi8vICAgfSxcclxuXHJcbi8vICAge1xyXG4vLyAgICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxyXG4vLyAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxyXG4vLyAgIH0sXHJcblxyXG4vLyAgIHtcclxuLy8gICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuLy8gICB9LFxyXG5cclxuLy8gICB7XHJcbi8vICAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZ1wiLFxyXG4vLyAgIH0sXHJcblxyXG4vLyAgIHtcclxuLy8gICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIixcclxuLy8gICB9LFxyXG5cclxuLy8gICB7XHJcbi8vICAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGdcIixcclxuLy8gICB9LFxyXG4vLyBdO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHsgbmFtZSwgbGluaywgX2lkLCBpc0xpa2VkIH0sXHJcbiAgICBjYXJkU2VsZWN0b3IsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQ2FyZENsaWNrLFxyXG4gICAgaGFuZGxlTGlrZUNsaWNrXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xyXG4gICAgdGhpcy5faWQgPSBfaWQ7XHJcbiAgICB0aGlzLmlzTGlrZWQgPSBpc0xpa2VkO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkQ2xpY2sgPSBoYW5kbGVEZWxldGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XHJcbiAgfVxyXG5cclxuICBnZXRJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pZDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2xpa2VCdG5FbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2soKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fdHJhc2hCdG5FbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkQ2xpY2sodGhpcyk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2soeyBuYW1lOiB0aGlzLl9uYW1lLCBsaW5rOiB0aGlzLl9saW5rIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRJc0xpa2VkKGxpa2VkKSB7XHJcbiAgICB0aGlzLmlzTGlrZWQgPSBsaWtlZDtcclxuICAgIHRoaXMuX2xpa2VCdG5FbC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fYnV0dG9uLWxpa2VfYWN0aXZlXCIsIGxpa2VkKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZURlbGV0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGdldFZpZXcoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGVFbCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XHJcbiAgICB0aGlzLl90cmFzaEJ0bkVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19idXR0b24tdHJhc2hcIik7XHJcbiAgICB0aGlzLl9saWtlQnRuRWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2J1dHRvbi1saWtlXCIpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGVFbC50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbCkge1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbCkge1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCkge1xyXG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGlzYWJsZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIF9lbmFibGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiAhdGhpcy5faW5wdXRFbHMuZXZlcnkoKGlucHV0RWwpID0+IGlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLl9lbmFibGVTdWJtaXRCdXR0b24oKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0RWxzID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKV07XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKHRoaXMuX2lucHV0RWxzKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyRWxlbWVudC5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBjb25zdGFudHMgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQgfHxcclxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZS1idXR0b25cIilcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gICAgdGhpcy5zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIlt0eXBlPXN1Ym1pdF1cIik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2lucHV0cyA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIik7XHJcbiAgfVxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGRhdGEgPSB7fTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgZGF0YVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgeyBzZWxlY3RvcnMsIGNvbnN0YW50cyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFpbGRhdG9yLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzXCI7XHJcblxyXG4vLyAhIHx8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18fFxyXG4vLyAhIHx8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3MgaW5zdGFudGlhdGlvbnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fFxyXG4vLyAhIHx8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18fFxyXG5cclxuY29uc3QgY2FyZEFkZFBvcHVwV2l0aEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNjYXJkLWFkZFwiLCAodmFsdWVzKSA9PiB7XHJcbiAgY29uc3QgbmV3VGl0bGUgPSB2YWx1ZXMudGl0bGU7XHJcbiAgY29uc3QgbmV3TGluayA9IHZhbHVlcy5kZXNjcmlwdGlvbjtcclxuICBjb25zdCBuZXdDYXJkRGF0YSA9IHtcclxuICAgIG5hbWU6IG5ld1RpdGxlLFxyXG4gICAgbGluazogbmV3TGluayxcclxuICB9O1xyXG4gIGFwaVxyXG4gICAgLmFkZENhcmQobmV3Q2FyZERhdGEpXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICByZW5kZXJDYXJkKGRhdGEpO1xyXG4gICAgICBjYXJkQWRkUG9wdXBXaXRoRm9ybS5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgYWxlcnQoYCR7ZXJyfSwgQ291bGQgbm90IGFkZCBuZXcgY2FyZGApO1xyXG4gICAgfSk7XHJcbiAgY29uc3RhbnRzLmNhcmRBZGRGb3JtLnJlc2V0KCk7XHJcbiAgYWRkRm9ybVZhaWxkYXRvci5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbn0pO1xyXG5cclxuY2FyZEFkZFBvcHVwV2l0aEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVFZGl0U3VibWl0UG9wdXBXaXRoRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIFwiI3Byb2ZpbGUtZWRpdFwiLFxyXG4gICh2YWx1ZXMpID0+IHtcclxuICAgIHByb2ZpbGVFZGl0U3VibWl0UG9wdXBXaXRoRm9ybS5zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG4gICAgYXBpLnVwZGF0ZVByb2ZpbGVJbmZvKHZhbHVlcy50aXRsZSwgdmFsdWVzLmRlc2NyaXB0aW9uKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcHJvZmlsZUVkaXRTdWJtaXRQb3B1cFdpdGhGb3JtLnN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU3VibWl0XCI7XHJcbiAgICAgIGNvbnN0YW50cy5wcm9maWxlVGl0bGUudGV4dENvbnRlbnQgPSByZXMubmFtZTtcclxuICAgICAgY29uc3RhbnRzLnByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHJlcy5hYm91dDtcclxuICAgICAgcHJvZmlsZUVkaXRTdWJtaXRQb3B1cFdpdGhGb3JtLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbik7XHJcblxyXG5wcm9maWxlRWRpdFN1Ym1pdFBvcHVwV2l0aEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHVwZGF0ZVByb2ZpbGVBdmF0YXJQb3B1cFdpdGhGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjdXBkYXRlLWF2YXRhclwiLFxyXG4gICh2YWx1ZSkgPT4ge1xyXG4gICAgdXBkYXRlUHJvZmlsZUF2YXRhclBvcHVwV2l0aEZvcm0uc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICAgIGFwaS51cGRhdGVQcm9maWxlUGhvdG8odmFsdWUuZGVzY3JpcHRpb24pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICB1cGRhdGVQcm9maWxlQXZhdGFyUG9wdXBXaXRoRm9ybS5zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlN1Ym1pdFwiO1xyXG4gICAgICBjb25zdGFudHMucHJvZmlsZUF2YXRhci5zcmMgPSByZXMuYXZhdGFyO1xyXG4gICAgICB1cGRhdGVQcm9maWxlQXZhdGFyUG9wdXBXaXRoRm9ybS5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4pO1xyXG5cclxudXBkYXRlUHJvZmlsZUF2YXRhclBvcHVwV2l0aEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGRlbGV0ZUNhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oXCIjY2FyZC1kZWxldGUtY29uZm9ybWF0aW9uXCIpO1xyXG5kZWxldGVDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjaW1hZ2UtbW9kYWxcIik7XHJcblxyXG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX190aXRsZVwiLFxyXG4gIGpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxyXG4gIGF2YXRhclNlbGVjdG9yOiBcIiNwcm9maWxlLWF2YXRhclwiLFxyXG59KTtcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcclxuICBhdXRoVG9rZW46IFwiZTI1NDYxOWUtNzE5NS00ODUxLWEyNTctMDhmMzhjMjM3NjdlXCIsXHJcbn0pO1xyXG5cclxubGV0IGNhcmRTZWN0aW9uO1xyXG5cclxuYXBpXHJcbiAgLmdldEluaXRpYWxDYXJkcygpXHJcbiAgLnRoZW4oKGNhcmRzKSA9PiB7XHJcbiAgICBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gICAgICB7XHJcbiAgICAgICAgaXRlbXM6IGNhcmRzLFxyXG4gICAgICAgIHJlbmRlcmVyOiByZW5kZXJDYXJkLFxyXG4gICAgICB9LFxyXG4gICAgICBzZWxlY3RvcnMuY2FyZFNlY3Rpb25cclxuICAgICk7XHJcbiAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIGFsZXJ0KGAke2Vycn0sIENvdWxkIG5vdCBsb2FkIGNhcmRzYCk7XHJcbiAgfSk7XHJcblxyXG5hcGlcclxuICAuZ2V0VXNlckluZm8oKVxyXG4gIC50aGVuKCh1c2VyRGF0YSkgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xyXG4gICAgICBuYW1lOiB1c2VyRGF0YS5uYW1lLFxyXG4gICAgICBqb2I6IHVzZXJEYXRhLmFib3V0LFxyXG4gICAgfSk7XHJcbiAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHtcclxuICAgICAgYXZhdGFyOiB1c2VyRGF0YS5hdmF0YXIsXHJcbiAgICB9KTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICBhbGVydChgJHtlcnJ9LCBDb3VsZCBub3QgbG9hZCB1c2VyIGluZm9gKTtcclxuICB9KTtcclxuXHJcbi8vICEgfHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXx8XHJcbi8vICEgfHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZhbGlkYXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8XHJcbi8vICEgfHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXx8XHJcblxyXG5jb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuanMtbW9kYWwtaW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc2F2ZS1idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWwtaW5wdXQtZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcIm1vZGFsLWVycm9yLXZpc2libGVcIixcclxufTtcclxuXHJcbmNvbnN0IGVkaXRGb3JtVmFpbGRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxyXG4gIGNvbnN0YW50cy5wcm9maWxlRWRpdEZvcm1cclxuKTtcclxuZWRpdEZvcm1WYWlsZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5jb25zdCBhZGRGb3JtVmFpbGRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxyXG4gIGNvbnN0YW50cy5jYXJkQWRkRm9ybVxyXG4pO1xyXG5hZGRGb3JtVmFpbGRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXHJcbiAgY29uc3RhbnRzLnVwZGF0ZUF2YXRhckZvcm1cclxuKTtcclxuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vLyAhIHx8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18fFxyXG4vLyAhIHx8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGdW5jdGlvbnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fFxyXG4vLyAhIHx8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18fFxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2FyZENsaWNrKGNhcmQpIHtcclxuICBkZWxldGVDYXJkUG9wdXAub3BlbigpO1xyXG4gIGRlbGV0ZUNhcmRQb3B1cC5zZXRTdWJtaXRBY3Rpb24oKCkgPT4ge1xyXG4gICAgZGVsZXRlQ2FyZFBvcHVwLnN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XHJcbiAgICBhcGlcclxuICAgICAgLnJlbW92ZUNhcmQoY2FyZC5nZXRJZCgpKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgZGVsZXRlQ2FyZFBvcHVwLnN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiWWVzXCI7XHJcbiAgICAgICAgY2FyZC5oYW5kbGVEZWxldGVDYXJkKCk7XHJcbiAgICAgICAgZGVsZXRlQ2FyZFBvcHVwLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgIGFsZXJ0KGAke2Vycn0sIENvdWxkIG5vdCBkZWxldGUgY2FyZGApO1xyXG4gICAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyQ2FyZChpdGVtKSB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgaXRlbSxcclxuICAgIHNlbGVjdG9ycy5jYXJkVGVtcGxhdGUsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQ2FyZENsaWNrLFxyXG4gICAgKCkgPT4ge1xyXG4gICAgICBpZiAoIWNhcmQuaXNMaWtlZCkge1xyXG4gICAgICAgIGFwaS5hZGRMaWtlKGNhcmQuX2lkKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIGNhcmQuc2V0SXNMaWtlZChyZXMuaXNMaWtlZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBpLnJlbW92ZUxpa2UoY2FyZC5faWQpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgY2FyZC5zZXRJc0xpa2VkKHJlcy5pc0xpa2VkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICk7XHJcbiAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkLmdldFZpZXcoKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljaygpIHtcclxuICBhcGkuYWRkTGlrZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuUHJvZmlsZUZvcm0oKSB7XHJcbiAgZWRpdEZvcm1WYWlsZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgcHJvZmlsZUVkaXRTdWJtaXRQb3B1cFdpdGhGb3JtLnNldElucHV0VmFsdWVzKHVzZXJJbmZvLmdldFVzZXJJbmZvKCkpO1xyXG4gIHByb2ZpbGVFZGl0U3VibWl0UG9wdXBXaXRoRm9ybS5vcGVuKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soY2FyZERhdGEpIHtcclxuICBpbWFnZVBvcHVwLm9wZW4oY2FyZERhdGEpO1xyXG59XHJcblxyXG4vLyAhIHx8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18fFxyXG4vLyAhIHx8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnQgTGlzdGVuZXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fFxyXG4vLyAhIHx8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18fFxyXG5cclxuY29uc3RhbnRzLnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuUHJvZmlsZUZvcm0pO1xyXG5jb25zdGFudHMuY2FyZEFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICBjYXJkQWRkUG9wdXBXaXRoRm9ybS5vcGVuKClcclxuKTtcclxuY29uc3RhbnRzLnByb2ZpbGVBdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICB1cGRhdGVQcm9maWxlQXZhdGFyUG9wdXBXaXRoRm9ybS5vcGVuKCk7XHJcbn0pO1xyXG4vLyAhIHx8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18fFxyXG4vLyAhIHx8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmFuZG9tIE1vdW50YWluIExpbmtzICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fFxyXG4vLyAhIHx8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18fFxyXG5cclxuLy8gVG9ycmVudCBNb3VudGFpbnMgbGluazogaHR0cHM6Ly9jZG4ucGl4YWJheS5jb20vcGhvdG8vMjAyMy8xMi8wNi8wOC80MS9tb3VudGFpbi04NDMzMjM0XzEyODAuanBnXHJcbi8vIEh1bnRlciBQZWFrIGxpbms6IGh0dHBzOi8vY2RuLnBpeGFiYXkuY29tL3Bob3RvLzIwMjQvMDIvMTIvMTYvMDUvaHVudGVyLXBlYWstODU2ODkxNV8xMjgwLmpwZ1xyXG4vLyBLZXlzdmlsbGUgbGluazogaHR0cHM6Ly9jZG4ucGl4YWJheS5jb20vcGhvdG8vMjAyMy8wOC8yMi8yMS8xOC9tb3VudGFpbi04MjA3MjEyXzEyODAuanBnXHJcbi8vIEZveCBCYWNrY291bnRyeSBsaW5rOiBodHRwczovL3d3dy5yaWRlZm94LmNvbS9pbWcvc3ViaG9tZS9zbm93L2JhY2tjb3VudHJ5LWxvZ28tbGlnaHQucG5nXHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gICAgdGhpcy5zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIlt0eXBlPXN1Ym1pdF1cIik7XHJcbiAgfVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0U3VibWl0QWN0aW9uKGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtbW9kYWwtaW1hZ2VcIik7XHJcbiAgICB0aGlzLl90ZXh0ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtbW9kYWwtc3ViLXRleHRcIik7XHJcbiAgfVxyXG4gIG9wZW4oZGF0YSkge1xyXG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fdGV4dC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2ltYWdlLmFsdCA9IGBQaG90byBvZiAke2RhdGEubmFtZX1gO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fam9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICB0aXRsZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuX2pvYi50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9XHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBqb2IgfSkge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBqb2I7XHJcbiAgfVxyXG4gIHNldFVzZXJBdmF0YXIoeyBhdmF0YXIgfSkge1xyXG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGF1dGhUb2tlbiB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2F1dGhUb2tlbiA9IGF1dGhUb2tlbjtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSB7XHJcbiAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhUb2tlbixcclxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy9HRVQgaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHNcclxuICAvL0FVVEggVG9rZW4gXCJhYmRiODJlYy02MTdmLTQ0NGUtYTk4Mi01OWI0ZGFiMTVmMjJcIlxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT5cclxuICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+XHJcbiAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVByb2ZpbGVJbmZvKG5hbWUsIGFib3V0KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGFib3V0IH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PlxyXG4gICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVQcm9maWxlUGhvdG8oYXZhdGFyKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXIgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+XHJcbiAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGFkZENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBsaW5rIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PlxyXG4gICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVDYXJkKGNhcmRJRCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElEfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PlxyXG4gICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBhZGRMaWtlKGNhcmRJRCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElEfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PlxyXG4gICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVMaWtlKGNhcmRJRCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElEfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PlxyXG4gICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YClcclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJwcm9maWxlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2FyZEFkZCIsImltYWdlTW9kYWwiLCJjb25zdGFudHMiLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVBdmF0YXIiLCJwcm9maWxlQXZhdGFyQnV0dG9uIiwicHJvZmlsZVRpdGxlIiwidXBkYXRlQXZhdGFyRm9ybSIsImZvcm1zIiwicHJvZmlsZURlc2NyaXB0aW9uIiwiY2FyZExpc3RFbCIsImNhcmRUZW1wbGF0ZSIsImNhcmRBZGRCdXR0b24iLCJwcm9maWxlRWRpdCIsInByb2ZpbGVFZGl0Rm9ybSIsInByb2ZpbGVUaXRsZUlucHV0IiwicHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJjYXJkQWRkRm9ybSIsImNhcmRUaXRsZUlucHV0IiwiY2FyZEltYWdlSW5wdXQiLCJpbWFnZU1vZGFsSW1hZ2UiLCJpbWFnZU1vZGFsU3ViVGV4dCIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZENsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwibmFtZSIsImxpbmsiLCJfaWQiLCJpc0xpa2VkIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsImdldElkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2xpa2VCdG5FbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfdHJhc2hCdG5FbCIsIl9jYXJkSW1hZ2VFbCIsInNldElzTGlrZWQiLCJsaWtlZCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImhhbmRsZURlbGV0ZUNhcmQiLCJfY2FyZEVsZW1lbnQiLCJyZW1vdmUiLCJnZXRWaWV3IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9jYXJkVGl0bGVFbCIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybSIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWwiLCJlcnJvck1lc3NhZ2VFbCIsImlkIiwiYWRkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsImRpc2FibGVTdWJtaXRCdXR0b24iLCJfc3VibWl0QnV0dG9uIiwiZGlzYWJsZWQiLCJfZW5hYmxlU3VibWl0QnV0dG9uIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9pbnB1dEVscyIsImV2ZXJ5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJldnQiLCJyZXNldFZhbGlkYXRpb24iLCJpbnB1dCIsImVuYWJsZVZhbGlkYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyRWxlbWVudCIsInJlbmRlckl0ZW1zIiwiaXRlbSIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwib3BlbiIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJzdWJtaXRCdXR0b24iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dHMiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJkYXRhIiwidmFsdWUiLCJzZXRJbnB1dFZhbHVlcyIsImNhcmRBZGRQb3B1cFdpdGhGb3JtIiwidmFsdWVzIiwibmV3Q2FyZERhdGEiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiYXBpIiwiYWRkQ2FyZCIsInRoZW4iLCJyZW5kZXJDYXJkIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJhbGVydCIsInJlc2V0IiwiYWRkRm9ybVZhaWxkYXRvciIsInByb2ZpbGVFZGl0U3VibWl0UG9wdXBXaXRoRm9ybSIsInVwZGF0ZVByb2ZpbGVJbmZvIiwicmVzIiwiYWJvdXQiLCJ1cGRhdGVQcm9maWxlQXZhdGFyUG9wdXBXaXRoRm9ybSIsInVwZGF0ZVByb2ZpbGVQaG90byIsImF2YXRhciIsImRlbGV0ZUNhcmRQb3B1cCIsInNldFN1Ym1pdEFjdGlvbiIsImltYWdlUG9wdXAiLCJfaW1hZ2UiLCJfdGV4dCIsInVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9qb2IiLCJfYXZhdGFyIiwiZ2V0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsIl9yZWYyIiwiam9iIiwic2V0VXNlckF2YXRhciIsIl9yZWYzIiwiYmFzZVVybCIsImF1dGhUb2tlbiIsIl9iYXNlVXJsIiwiX2F1dGhUb2tlbiIsIl9oZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwiaGVhZGVycyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlbW92ZUNhcmQiLCJjYXJkSUQiLCJhZGRMaWtlIiwicmVtb3ZlTGlrZSIsImNhcmRTZWN0aW9uIiwiY2FyZHMiLCJ1c2VyRGF0YSIsInZhbGlkYXRpb25TZXR0aW5ncyIsImVkaXRGb3JtVmFpbGRhdG9yIiwiY2FyZCIsImNhcmREYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==